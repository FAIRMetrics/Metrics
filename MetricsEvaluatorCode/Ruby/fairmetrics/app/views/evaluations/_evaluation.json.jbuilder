#json.extract! evaluation, :id, :collection, :resource, :body, :result, :executor, :title, :created_at, :updated_at

orcid_url = "https://orcid.org/"
fairont = "https://purl.org/fair-ontology/"
metrics_url = "https://purl.org/fair-metrics/"
type1="http://purl.org/dc/dcmitype/Dataset"
type2 = fairont + "FAIR-Evaluation-Output"



json.set! '@id', evaluation_url(evaluation)
json.set! '@context', "https://w3id.org/FAIR_Evaluator/schema"

json.set! '@type' do
	json.array! [type1, type2]
end


json.set! 'collection', collection_url(Collection.find(evaluation.collection.to_s))


json.set! 'primaryTopic', evaluation.resource

json.set! 'title', evaluation.title

json.set! 'creator', orcid_url + evaluation.executor.to_s

json.set! 'http://purl.org/pav/version', evaluation.updated_at

json.set! 'http://rdfs.org/ns/void#description', 'FAIR Metrics Evaluation: '  + evaluation.title + '; Tested identifier: ' + evaluation.resource + '; generated by ' + orcid_url + evaluation.executor.to_s

json.set! 'http://www.w3.org/ns/dcat#contactPoint' , orcid_url + evaluation.executor.to_s

json.set! 'http://www.w3.org/ns/dcat#identifier', evaluation_url(evaluation)

json.set! 'http://www.w3.org/ns/dcat#publisher', "http://fairmetrics.org"

unless @brief
	json.set! 'evaluationInput', evaluation.body.to_s

	json.set! 'evaluationResult', evaluation.result.to_s
end

